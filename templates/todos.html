{% extends "layout.html" %}

{% block title %}
Boards
{% endblock %}

{% block navbar1 %}
    <a class="link" href="./">Home</a>
    <a class="link" href="./todos">Boards</a>
{% endblock %}

{% block navbar2 %}
    <a class="link" href="./account">{{ session["user_name"] }}</a>
{% endblock %}

{% block sidebar %}
<div id="sidebar">
    <div id="pulltab" onclick="toggleSidebar()">
        <svg id="pulltab_open" class="hide" xmlns="http://www.w3.org/2000/svg" width="32" height="32"
            viewBox="0 0 24 24">
            <path fill="currentColor"
                d="m14.475 12l-7.35-7.35q-.375-.375-.363-.888t.388-.887q.375-.375.888-.375t.887.375l7.675 7.7q.3.3.45.675t.15.75q0 .375-.15.75t-.45.675l-7.7 7.7q-.375.375-.875.363T7.15 21.1q-.375-.375-.375-.888t.375-.887L14.475 12Z" />
        </svg>
        <svg id="pulltab_close" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24">
            <path fill="currentColor"
                d="m3.55 12l7.35 7.35q.375.375.363.875t-.388.875q-.375.375-.875.375t-.875-.375l-7.7-7.675q-.3-.3-.45-.675T.825 12q0-.375.15-.75t.45-.675l7.7-7.7q.375-.375.888-.363t.887.388q.375.375.375.875t-.375.875L3.55 12Z" />
        </svg>
    </div>
    <div id="sidebar_content" class="scroll">
        <h3 style="border-bottom: solid var(--border-highlight); margin-bottom: 1rem;">Your Boards:</h3>
        <div id="boards_list" class="dropzone dboard_closed">
            {% for board in boards %}
                <div id="board{{ board.board_id }}" class="draggable board_closed" style="border-color: #{{ board.color }};" draggable="true">
                    <h4>{{ board.board_name }}</h4>
                    <h5>{{ board.tasks|length }}</h5>
                </div>
            {% endfor %}
        </div>
        <div id="trash" class="dropzone dboard_closed dboard_open dtask dlist_item" ondragenter="trashEnter(event)" ondragleave="trashLeave(event)" ondrop="trashDrop(event)">
            <svg id="trash_lid" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="isolation:isolate" viewBox="0 0 32 32" width="72" height="72"><defs><clipPath id="_clipPath_6GA0x26RE67WlJB4gojEOTtjF2GfcBJM"><rect width="32" height="32"/></clipPath></defs><g clip-path="url(#_clipPath_6GA0x26RE67WlJB4gojEOTtjF2GfcBJM)"><path d=" M 25.333 5.333 L 20.667 5.333 L 19.333 4 L 12.667 4 L 11.333 5.333 L 6.667 5.333 L 6.667 8 L 25.333 8" fill="currentColor"/></g></svg>
            <svg id="trash_can" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="isolation:isolate" viewBox="0 0 32 32" width="72" height="72"><defs><clipPath id="_clipPath_3AJ68E5Gphz7Yy2bVBawHATG5Dkm3Jyc"><rect width="32" height="32"/></clipPath></defs><g clip-path="url(#_clipPath_3AJ68E5Gphz7Yy2bVBawHATG5Dkm3Jyc)"><path d=" M 8 25.333 C 8 26.806 9.194 28 10.667 28 L 21.333 28 C 22.806 28 24 26.806 24 25.333 L 24 9.333 L 8 9.333 L 8 25.333 Z " fill="currentColor"/></g></svg>
        </div>
    </div>
</div>
{% endblock %}

{% block main %}
<div id="adder" class="close">
    <svg onclick="toggleAdderMenu()" id="adder_icon" xmlns="http://www.w3.org/2000/svg" width="55" height="55" viewBox="0 0 24 24">
        <path fill="currentColor"
            d="M11 13H6q-.425 0-.712-.288T5 12q0-.425.288-.712T6 11h5V6q0-.425.288-.712T12 5q.425 0 .713.288T13 6v5h5q.425 0 .713.288T19 12q0 .425-.288.713T18 13h-5v5q0 .425-.288.713T12 19q-.425 0-.712-.288T11 18v-5Z" />
    </svg>
    <div id="adder_menu" class="close">
        <div class="input_box">
            <input name="name" type="text" placeholder="Session Text">
        </div>
        <div class="input_box">
            <input name="start" type="date">
        </div>
        <h6>option2</h6>
    </div>
</div>
<div id="boards_view" class="dropzone dboard_closed dboard_open">
    {% for board in boards %}
        {% if board.board_id in viewed_boards %}
            <div id="board{{ board.board_id }}" class="draggable board_open" draggable="true">
                <div style="border-color: #{{ board.color }};">
                    <h4>{{ board.board_name }}</h4>
                    {% if board.is_pinned %}
                        <input class="pin" type="checkbox" checked>
                    {% else %}
                        <input class="pin" type="checkbox">
                    {% endif %}
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="m13.827 1.69l8.486 8.485l-1.415 1.414l-.707-.707l-4.242 4.243l-.707 3.536l-1.415 1.414l-4.242-4.243l-4.95 4.95l-1.414-1.414l4.95-4.95l-4.243-4.243l1.414-1.414l3.536-.707l4.242-4.243l-.707-.707zm.707 3.536l-4.67 4.67l-2.822.565l6.5 6.5l.564-2.822l4.671-4.67z"/></svg>
                </div>
                <div class="dropzone dtask">
                    {% for task in board.tasks %}
                    <div class="draggable task" draggable="true">
                        <div>
                            <svg class="task_dropdown" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" d="M12 14.975q-.2 0-.375-.062T11.3 14.7l-4.6-4.6q-.275-.275-.275-.7t.275-.7q.275-.275.7-.275t.7.275l3.9 3.9l3.9-3.9q.275-.275.7-.275t.7.275q.275.275.275.7t-.275.7l-4.6 4.6q-.15.15-.325.213t-.375.062"/></svg>
                            <h5>{{ task.task }}</h5>
                            <h4 class="prevent-select" style="color: rgba(0, 0, 0, 0.2); margin-left: 0.5rem;">|</h4>
                            <svg class="task_check" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" d="m10 13.6l5.9-5.9q.275-.275.7-.275t.7.275q.275.275.275.7t-.275.7l-6.6 6.6q-.3.3-.7.3t-.7-.3l-2.6-2.6q-.275-.275-.275-.7t.275-.7q.275-.275.7-.275t.7.275z"/></svg>
                        </div>
                        <div>
                            {% for li in task.list %}
                                <li>
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 20 20"><path fill="currentColor" d="m7.825 10l2.9 2.9q.3.3.288.7t-.288.7q-.3.3-.7.313t-.7-.288L4.7 9.7q-.15-.15-.213-.325T4.426 9q0-.2.063-.375T4.7 8.3l4.575-4.575q.3-.3.713-.3t.712.3q.3.3.3.7t-.3.7L7.825 8H17q.825 0 1.413.588T19 10v9q0 .425-.288.713T18 20q-.425 0-.712-.288T17 19v-9z"/></svg>
                                    <div>
                                        {% if li.checked %}
                                        <input class="input_checkbox" type="checkbox" checked>
                                        {% else %}
                                        <input class="input_checkbox" type="checkbox">
                                        {% endif %}
                                        <h4 class="prevent-select" style="color: rgba(0, 0, 0, 0.2);">|</h4>
                                        <h6>{{ li.content }}</h6>
                                    </div>
                                </li>
                            {% endfor %}
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </div>
        {% endif %}
    {% endfor %}
</div>
{% endblock %}